:root{
  --bg:#0f0f1a;
  --ink:#f8f9fa;
  --accent:#00e676;
  --accent2:#06d6a0;
  --warn:#ef476f;
  --gold:#ffd166;
  --scanline-alpha:0.06;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background: radial-gradient(120% 120% at 50% 30%, #121223 0%, var(--bg) 60%, #06060c 100%);
  color:var(--ink);
  font-family: "VT323", system-ui, monospace;
  line-height:1.5;
  image-rendering: pixelated;
  text-rendering: optimizeSpeed;
  overflow:hidden; /* style borne d'arcade */
}

.screen{
  position:relative;
  height:100dvh;
  padding:24px;
  display:grid;
  grid-template-rows:auto 1fr auto;
  border:4px solid #1b1b2e;
  border-radius:14px;
  margin:auto;
  max-width:1100px;
  filter: saturate(1.05) contrast(1.02);
}

.crt-overlay{
  pointer-events:none;
  position:fixed; inset:0;
  background:
    repeating-linear-gradient(
      0deg,
      rgba(255,255,255,var(--scanline-alpha)) 0px,
      rgba(255,255,255,var(--scanline-alpha)) 1px,
      transparent 2px,
      transparent 3px
    );
  mix-blend-mode: overlay;
  opacity:0.7;
}

.brand{
  display:flex; gap:12px; align-items:center; justify-content:space-between;
}
h1{
  font-family: "Press Start 2P", cursive;
  font-size: clamp(16px, 2.8vw, 26px);
  letter-spacing:2px;
  color:var(--gold);
  text-shadow:0 0 6px rgba(255,209,102,.5);
  margin:0;
}

.title{
  font-family:"Press Start 2P", cursive;
  font-size: clamp(22px, 4.2vw, 42px);
  color:var(--accent);
  text-align:center;
  margin:24px 0 18px;
  text-shadow:0 0 10px rgba(0,230,118,.35);
}

.panel{ display:none; }
.panel.active{ display:block; }

.menu{
  display:grid; gap:12px;
  max-width:360px; margin:24px auto;
}
.menu-item{
  font-family:"Press Start 2P";
  font-size:14px; letter-spacing:1px;
  padding:14px 16px;
  border:2px solid var(--accent);
  background:#0b0b16;
  color:var(--ink);
  cursor:pointer;
}
.menu-item.selected,
.menu-item:hover{ outline:3px solid var(--accent2); }

.hint{ text-align:center; opacity:.8; }

.about-wrap{
  display:grid; gap:24px; align-items:start;
  grid-template-columns: 140px 1fr;
  max-width:900px; margin:0 auto;
}
.avatar{
  width:140px; height:140px; image-rendering: pixelated;
  border:3px solid var(--accent); background:#000;
}
.mono{ font-size:22px; }

.skills{ list-style: square; margin:14px 0 24px 18px; }

.grid{
  display:grid; gap:16px;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  max-width:980px; margin: 12px auto 24px;
}
.card{
  text-decoration:none; color:var(--ink);
  display:grid; gap:8px; align-content:start;
}
.cartridge{
  border:3px solid var(--gold);
  padding:22px 12px;
  background:linear-gradient(#1c1c2a, #0b0b16);
  box-shadow: inset 0 0 0 4px #000, 0 4px 0 #000;
}
.label{
  font-family:"Press Start 2P";
  font-size:12px; letter-spacing:1px;
}
.caption{ opacity:.9; }

.contact{ display:grid; gap:8px; justify-content:center; padding:12px; }
.contact a{ color:var(--gold); text-decoration:none; border-bottom:1px dashed var(--gold); }
.contact a:hover{ color:var(--accent); border-color:var(--accent); }

.footer{
  text-align:center; opacity:.75; font-size:18px;
  padding-top:8px;
}

.btn{
  font-family:"Press Start 2P";
  font-size:12px; letter-spacing:1px;
  padding:10px 12px; cursor:pointer;
  border:2px solid var(--accent);
  background:#0b0b16; color:var(--ink);
}
.btn.small{ padding:6px 10px; font-size:10px; }
.btn.back{ display:block; margin:12px auto 0; }

@media (prefers-reduced-motion: no-preference){
  .panel.active .title{ animation: glow 1.4s ease-in-out infinite alternate; }
  @keyframes glow{
    from{ text-shadow:0 0 6px rgba(0,230,118,.3); }
    to{ text-shadow:0 0 18px rgba(0,230,118,.75); }
  }
}

/* Focus visible pour clavier */
:focus-visible{ outline:3px solid var(--warn); outline-offset:2px; }

/* ===== Mode GameBoy (palette vert/gris) ===== */
body.gb {
  --bg:#0b1d12;         /* fond vert sombre */
  --ink:#e6f3d6;        /* encre claire verdâtre */
  --accent:#87a330;     /* vert olive clair */
  --accent2:#6e8a28;    /* vert moyen */
  --warn:#3d5c2b;       /* vert plus sombre pour le focus */
  --gold:#a9c75a;       /* “doré” verdâtre */
  --scanline-alpha:0.08;
  filter: saturate(0.9) contrast(1.05);
}

/* teinte globale façon écran GB */
body.gb .screen{
  background: radial-gradient(120% 120% at 50% 30%, #0e2a18 0%, var(--bg) 60%, #07160e 100%);
}

/* limiter les effets flashy pour rester retro GB */
body.gb .title{
  color: var(--gold);
  text-shadow:none;
}
body.gb h1{
  color: var(--accent);
  text-shadow:none;
}
body.gb .cartridge{
  border-color: var(--accent2);
  background: linear-gradient(#0f2a1a, #0a1c12);
  box-shadow: inset 0 0 0 4px #000, 0 4px 0 #000;
}
body.gb .contact a{
  color: var(--accent);
  border-color: var(--accent);
}

/* ===== Grain + Ghosting LCD subtile ===== */

/* Grain procédural (CSS only) */
.noise-overlay{
  pointer-events:none;
  position:fixed; inset:0;
  mix-blend-mode: overlay;
  opacity:.10;               /* force du grain */
  /* bruit “faux-aléatoire” via conic + radial */
  background:
    repeating-conic-gradient(from 0deg,
      rgba(255,255,255,.04) 0 8deg,
      rgba(0,0,0,.04) 8deg 16deg),
    repeating-radial-gradient(circle at 20% 30%,
      rgba(255,255,255,.03) 0 2px,
      rgba(0,0,0,.03) 2px 4px);
  animation: noiseMove 1s steps(8) infinite;
  will-change: background-position, opacity;
}

@keyframes noiseMove{
  0%   { background-position: 0 0,       0   0; }
  25%  { background-position: 4px -3px, -2px 1px; }
  50%  { background-position: -3px 2px,  1px -2px; }
  75%  { background-position: 2px 3px,  -1px 2px; }
  100% { background-position: 0 0,       0   0; }
}

/* Ghosting horizontal très léger (bleed latéral) */
.ghost-overlay{
  pointer-events:none;
  position:fixed; inset:0;
  /* bande lumineuse douce qui “bave” horizontalement */
  background:
    linear-gradient(90deg,
      rgba(255,255,255,.05) 0%,
      rgba(255,255,255,0) 60%),
    linear-gradient(270deg,
      rgba(255,255,255,.03) 0%,
      rgba(255,255,255,0) 70%);
  filter: blur(.6px);
  transform: translateX(-1px) scaleX(1.002);
  opacity:.22;
  animation: ghostShift 4s ease-in-out infinite alternate;
  mix-blend-mode: screen;
  will-change: transform, opacity;
}

@keyframes ghostShift{
  from{
    transform: translateX(-1px) scaleX(1.002);
    opacity:.22;
  }
  to{
    transform: translateX(1px) scaleX(1.004);
    opacity:.16;
  }
}

/* Un soupçon de “double image” sur les gros titres/labels */
.title, .label{
  text-shadow:
    1px 0 rgba(255,255,255,.05),
    -1px 0 rgba(0,0,0,.08);
}

/* Mode GameBoy : on réduit un peu les effets pour rester crédible */
body.gb .noise-overlay{ opacity:.08; }
body.gb .ghost-overlay{ opacity:.18; }

/* Respect des préférences d’accessibilité */
@media (prefers-reduced-motion: reduce){
  .noise-overlay, .ghost-overlay{ animation: none !important; }
}